
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>n代农</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="ws">
    

    
    <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="n代农">
<meta property="og:url" content="http://wangdashuai.com/index.html">
<meta property="og:site_name" content="n代农">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="n代农">
<meta name="twitter:description">

    
    <link rel="alternative" href="/atom.xml" title="n代农" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="n代农" title="n代农"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="n代农">n代农</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:wangdashuai.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/05/CORS-跨域/" title="CORS 跨域" itemprop="url">CORS 跨域</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="ws" target="_blank" itemprop="author">ws</a>
		
  <p class="article-time">
    <time datetime="2016-05-05T09:33:30.000Z" itemprop="datePublished"> 发表于 2016-05-05</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><strong><em> CORS 跨域 </em></strong></p>
<ul>
<li>CORS能做什么：<blockquote>
<p>正常使用AJAX会需要正常考虑跨域问题，所以伟大的程序员们又折腾出了一系列跨域问题的解决方案，如JSONP、flash、ifame、xhr2等等。</p>
</blockquote>
</li>
</ul>
<ul>
<li><p>CORS的原理：</p>
<blockquote>
<p>CORS定义一种跨域访问的机制，可以让AJAX实现跨域访问。CORS 允许一个域上的网络应用向另一个域提交跨域 AJAX 请求。实现此功能非常简单，只需由服务器发送一个响应标头即可。</p>
</blockquote>
</li>
<li><p>CORS浏览器支持情况:</p>
<blockquote>
<p>PC上的现代浏览器都能友好的支持，除了IE9-，不过前端工程师对这种情况早应该习惯了…</p>
</blockquote>
</li>
</ul>
<ul>
<li>用法：<blockquote>
<p>在请求头加入Access-Control-Allow-Origin：* </p>
</blockquote>
</li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/js/">js</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/04/27/css-等高布局/" title="css 等高布局" itemprop="url">css 等高布局</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="ws" target="_blank" itemprop="author">ws</a>
		
  <p class="article-time">
    <time datetime="2016-04-27T05:27:20.000Z" itemprop="datePublished"> 发表于 2016-04-27</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><strong> CSS  等高布局</strong></p>
<ol>
<li><p>“隐藏容器溢出”和“正内补丁”和“负外补丁”结合实现div+css自适应高度 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">.wrap&#123;overflow:hidden;&#125; <span class="comment">/*外容器*/</span> </span><br><span class="line">.row&#123;padding-bottom:<span class="number">100000</span>px;margin-bottom:-<span class="number">100000</span>px;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>display:table-cell下等高布局实现<br> 利用table的同行单元格等高实现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.wrap&#123;display:table-row;&#125;</span><br><span class="line">.row&#123;display:table-cell;&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>两者可以一起使用达到兼容IE67</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/css/">css</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/04/07/gulp简单demo/" title="gulp简单demo" itemprop="url">gulp简单demo</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="ws" target="_blank" itemprop="author">ws</a>
		
  <p class="article-time">
    <time datetime="2016-04-07T07:59:53.000Z" itemprop="datePublished"> 发表于 2016-04-07</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><strong><em> gulp简单demo </em></strong></p>
<ul>
<li><p>1.package.json</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"gulp-require-demo"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="string">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="string">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="string">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="string">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="string">"gulp"</span>: <span class="string">"^3.9.1"</span>,</span><br><span class="line">    <span class="string">"gulp-import-css"</span>: <span class="string">"^0.1.2"</span>,</span><br><span class="line">    <span class="string">"gulp-minify-css"</span>: <span class="string">"^1.2.4"</span>,</span><br><span class="line">    <span class="string">"gulp-requirejs-optimize"</span>: <span class="string">"^0.3.2"</span>,</span><br><span class="line">    <span class="string">"r.js"</span>: <span class="string">"^1.0.3"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.gulpfile.js</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp=<span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="keyword">var</span> requirejsOptimize=<span class="built_in">require</span>(<span class="string">'gulp-requirejs-optimize'</span>);</span><br><span class="line"><span class="keyword">var</span> importCss=<span class="built_in">require</span>(<span class="string">'gulp-import-css'</span>);</span><br><span class="line"><span class="keyword">var</span> cssmin = <span class="built_in">require</span>(<span class="string">'gulp-minify-css'</span>);</span><br><span class="line"></span><br><span class="line">打包js</span><br><span class="line">gulp.task(<span class="string">'js'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> gulp.src(<span class="string">'js/m1/*'</span>+<span class="string">'_init.js'</span>)</span><br><span class="line">	.pipe(requirejsOptimize(&#123;</span><br><span class="line">		optimize:<span class="string">"none"</span></span><br><span class="line">	&#125;))</span><br><span class="line">	.pipe(gulp.dest(<span class="string">'dist/js'</span>))</span><br><span class="line">&#125;)</span><br><span class="line"> 打包css</span><br><span class="line">gulp.task(<span class="string">'css'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	gulp.src(<span class="string">'css/**/*.css'</span>)</span><br><span class="line">	.pipe(importCss())</span><br><span class="line">	.pipe(cssmin())</span><br><span class="line">	.pipe(gulp.dest(<span class="string">'dist/css'</span>))</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/js/">js</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/02/25/javascript-多线程/" title="javascript  多线程" itemprop="url">javascript  多线程</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="ws" target="_blank" itemprop="author">ws</a>
		
  <p class="article-time">
    <time datetime="2016-02-25T01:19:48.000Z" itemprop="datePublished"> 发表于 2016-02-25</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="javascript_多线程">javascript  多线程</h2><h4 id="一_webwork">一 webwork</h4><blockquote>
<p>Web Workers 是 HTML5 提供的一个javascript多线程解决方案，Web Worker的基本原理就是在当前javascript的主线程中，使用Worker类加载一个javascript文件来开辟一个新的线程，起到互不阻塞执行的效果，并且提供主线程和新线程之间数据交换的接口：postMessage，onmessage。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//worker.js</span></span><br><span class="line">onmessage =<span class="function"><span class="keyword">function</span> (<span class="params">evt</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> d = evt.data;<span class="comment">//通过evt.data获得发送来的数据</span></span><br><span class="line">  postMessage( d );<span class="comment">//将获取到的数据发送会主线程</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"Content-Type"</span> <span class="attribute">content</span>=<span class="value">"text/html; charset=utf-8"</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><br><span class="line"><span class="comment">//WEB页主线程</span></span><br><span class="line"><span class="keyword">var</span> worker =<span class="keyword">new</span> Worker(<span class="string">"worker.js"</span>); <span class="comment">//创建一个Worker对象并向它传递将在新线程中执行的脚本的URL</span></span><br><span class="line"> worker.postMessage(<span class="string">"hello world"</span>);     <span class="comment">//向worker发送数据</span></span><br><span class="line"> worker.onmessage =<span class="function"><span class="keyword">function</span>(<span class="params">evt</span>)</span>&#123;     <span class="comment">//接收worker传过来的数据函数</span></span><br><span class="line">   <span class="built_in">console</span>.log(evt.data);              <span class="comment">//输出worker发送来的数据</span></span><br><span class="line"> &#125;</span><br><span class="line"> </span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="title">body</span>&gt;</span><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h4 id="WEB主线程:">WEB主线程:</h4><blockquote>
<p>1.通过 worker = new Worker( url ) 加载一个JS文件来创建一个worker，同时返回一个worker实例。</p>
<p>2.通过worker.postMessage( data ) 方法来向worker发送数据。</p>
<p>3.绑定worker.onmessage方法来接收worker发送过来的数据。</p>
<p>4.可以使用 worker.terminate() 来终止一个worker的执行。</p>
</blockquote>
<h4 id="worker新线程：">worker新线程：</h4><p>1.通过postMessage( data ) 方法来向主线程发送数据。</p>
<p>2.绑定onmessage方法来接收主线程发送过来的数据。</p>
<h4 id="我们可以做什么：">我们可以做什么：</h4><blockquote>
<p>1.可以加载一个JS进行大量的复杂计算而不挂起主进程，并通过postMessage，onmessage进行通信</p>
<p>2.可以在worker中通过importScripts(url)加载另外的脚本文件</p>
<p>3.可以使用 setTimeout(), clearTimeout(), setInterval(), and clearInterval()</p>
<p>4.可以使用XMLHttpRequest来发送请求</p>
<p>5.可以访问navigator的部分属性</p>
</blockquote>
<h4 id="有那些局限性：">有那些局限性：</h4><blockquote>
<p>1.不能跨域加载JS</p>
<p>2.worker内代码不能访问DOM</p>
<p>3.各个浏览器对Worker的实现不大一致，例如FF里允许worker中创建新的worker,而Chrome中就不行</p>
<p>4.不是每个浏览器都支持这个新特性</p>
</blockquote>
<h4 id="Concurrent-Thread-js_实现多线程">Concurrent.Thread.js 实现多线程</h4><pre><code>Concurrent.Thread.create(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
    <span class="keyword">var</span> i = <span class="number">0</span>;
    <span class="keyword">while</span> ( <span class="number">1</span> ) {
        <span class="built_in">document</span>.body.innerHTML += i++ + <span class="string">"&lt;br&gt;"</span>;
    }
});
</code></pre>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/javascript/">javascript</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/02/17/css3-filter/" title="css3--filter" itemprop="url">css3--filter</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="ws" target="_blank" itemprop="author">ws</a>
		
  <p class="article-time">
    <time datetime="2016-02-17T01:53:29.000Z" itemprop="datePublished"> 发表于 2016-02-17</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><strong> CSS3 Filte </strong></p>
<p> <strong><em> 语法 </em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">elm &#123;</span><br><span class="line">    filter: none | <span class="xml"><span class="tag">&lt;<span class="title">filter-function</span> &gt;</span> [ <span class="tag">&lt;<span class="title">filter-function</span>&gt;</span> ]</span>* </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>其默认值是none，他不具备继承性，其中filter-function一个具有以下值可选：</p>
<ul>
<li>grayscale灰度</li>
<li>sepia </li>
<li>saturate饱和度</li>
<li>hue-rotate色相旋转</li>
<li>invert反色</li>
<li>opacity透明度</li>
<li>brightness亮度</li>
<li>contrast对比度</li>
<li>blur模糊</li>
<li>drop-shadow阴影</li>
</ul>
<p><strong><em> 浏览器的兼容性 </em></strong></p>
<p>目前支持这个属性的浏览器少得可怜，现在只是webkit支持，而且只有webkit nightly版本和Chrome 18.0.976以上以上版本才支持</p>
<p>首先在页面中有一张图片：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;img <span class="class"><span class="keyword">class</span></span>=<span class="string">"img"</span> title=<span class="string">"img"</span> /&gt;</span><br></pre></td></tr></table></figure>
<p><strong><em> 一、grayscale灰度 </em></strong></p>
<p>使用这个特效，会把图片变成灰色的，也就是说你的图片将只有两种颜色“黑色”和“白色”</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">.grayscale&#123;</span><br><span class="line">         -webkit-filter:grayscale(<span class="number">1</span>);</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>
<p>默认值：100％，</p>
<p>如果你在grayscale()中没有任何参数值，将会以“100%”渲染。</p>
<p><strong><em> 二、sepia </em></strong></p>
<blockquote>
<p>sepia使用这种效果，你的图片好像很古老的一样。</p>
</blockquote>
<pre><code><span class="class">.sepia</span><span class="rules">{
    <span class="rule"><span class="attribute">-webkit-filter</span>:<span class="value"><span class="function">sepia</span>(<span class="number">1</span>)</span></span>;
}</span>    
</code></pre><p>默认值：100％，</p>
<p>如果你在sepia()中没有任参数值，将会以“100％”渲染。</p>
<p><strong><em> 三、saturate饱和度 </em></strong></p>
<p>saturat是用来改变图片的饱和度</p>
<pre><code><span class="class">.saturate</span><span class="rules">{
 <span class="rule"><span class="attribute">-webkit-filter</span>:<span class="value"><span class="function">saturate</span>(<span class="number">0.5</span>)</span></span>;
}</span>      
</code></pre><p>默认值：100％，</p>
<p>如果我们将其值变大到300%。</p>
<pre><code><span class="class">.saturate</span><span class="rules">{
 <span class="rule"><span class="attribute">-webkit-filter</span>:<span class="value"><span class="function">saturate</span>(<span class="number">3</span>)</span></span>;
}</span>
</code></pre><p><strong><em> 四、hue-rotate色相旋转 </em></strong></p>
<p>hue-rotate用来改变图片的色相。</p>
<pre><code><span class="class">.hue-rotate</span><span class="rules">{
   <span class="rule"><span class="attribute">-webkit-filter</span>:<span class="value"><span class="function">hue-rotate</span>(<span class="number">90deg</span>)</span></span>;
}</span>
</code></pre><p>默认值：0deg</p>
<p> <strong><em> 五、invert反色 </em></strong></p>
<p>invert做出来的效果就像是我们照相机底面的效果一样</p>
<pre><code><span class="class">.invert</span><span class="rules">{
    <span class="rule"><span class="attribute">-webkit-filter</span>:<span class="value"><span class="function">invert</span>(<span class="number">1</span>)</span></span>;
}</span>
</code></pre><p>默认值：100％</p>
<p><strong><em> 六、opacity透明度 </em></strong></p>
<p>这个就很好理解了，改变图片的透明度</p>
<pre><code><span class="class">.opacity</span><span class="rules">{
    <span class="rule"><span class="attribute">-webkit-filter</span>:<span class="value"><span class="function">opacity</span>(.<span class="number">2</span>)</span></span>;
}</span>
</code></pre><p>默认值：100%</p>
<p><strong><em> 七、brightness亮度 </em></strong></p>
<p>改变图片的亮度</p>
<pre><code><span class="class">.brightness</span><span class="rules">{
    <span class="rule"><span class="attribute">-webkit-filter</span>:<span class="value"><span class="function">brightness</span>(.<span class="number">5</span>)</span></span>;
}</span>
</code></pre><p>默认值：100％</p>
<p><strong><em> 八、contrast对比度 </em></strong></p>
<p>改变图片的对比度，整个psd的，都懂这个意思</p>
<pre><code><span class="class">.contrast</span><span class="rules">{
    <span class="rule"><span class="attribute">-webkit-filter</span>:<span class="value"><span class="function">contrast</span>(<span class="number">2</span>)</span></span>;
}</span>
</code></pre><p>默认值：100％</p>
<p><strong><em> 九、blur模糊 </em></strong></p>
<p>一看字面意思就知道了，改变图片的清晰度</p>
<pre><code><span class="class">.blur</span><span class="rules">{
    <span class="rule"><span class="attribute">-webkit-filter</span>:<span class="value"><span class="function">blur</span>(<span class="number">3px</span>)</span></span>;
}</span>
</code></pre><p>默认值：0</p>
<p><strong><em> 十、drop-shadow阴影 </em></strong></p>
<p>这个很像box-shadow一样的效果，给图片加阴影效果</p>
<pre><code><span class="class">.drop-shadow</span><span class="rules">{
    <span class="rule"><span class="attribute">-webkit-filter</span>:<span class="value"><span class="function">drop-shadow</span>(<span class="number">5px</span> <span class="number">5px</span> <span class="number">5px</span> <span class="hexcolor">#ccc</span>)</span></span>;
}</span>
</code></pre>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/css3/">css3</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/01/12/HTML5的3个API/" title="HTML5的全屏API" itemprop="url">HTML5的全屏API</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="ws" target="_blank" itemprop="author">ws</a>
		
  <p class="article-time">
    <time datetime="2016-01-12T02:43:40.000Z" itemprop="datePublished"> 发表于 2016-01-12</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><strong><em> 全屏API（Fullscreen API） </em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 找到适合浏览器的全屏方法  </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">launchFullScreen</span>(<span class="params">element</span>) </span>&#123;  </span><br><span class="line">  <span class="keyword">if</span>(element.requestFullScreen) &#123;  </span><br><span class="line">    element.requestFullScreen();  </span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span>(element.mozRequestFullScreen) &#123;  </span><br><span class="line">    element.mozRequestFullScreen();  </span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span>(element.webkitRequestFullScreen) &#123;  </span><br><span class="line">    element.webkitRequestFullScreen();  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">// 启动全屏模式  </span></span><br><span class="line">launchFullScreen(<span class="built_in">document</span>.documentElement); <span class="comment">// the whole page  </span></span><br><span class="line">launchFullScreen(<span class="built_in">document</span>.getElementById(<span class="string">"videoElement"</span>)); <span class="comment">// any individual element</span></span><br></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/html5/">html5</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/01/05/不同浏览器对于同一域名的并发/" title="不同浏览器对于同一域名的并发" itemprop="url">不同浏览器对于同一域名的并发</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="ws" target="_blank" itemprop="author">ws</a>
		
  <p class="article-time">
    <time datetime="2016-01-05T06:46:06.000Z" itemprop="datePublished"> 发表于 2016-01-05</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>当浏览器请求一个URL的时候，通过firebug我们可以发现大概有以下几个过程：阻挡、域名解析、建立连接、发送请求、等待响应、接收数据。后面四个跟用户的网络情况和你的服务器处理速度有关，本文重点说说前两个。</p>
<p><strong> 提高浏览器并发连接数 </strong></p>
<p>阻挡：不同的浏览器对单个域名的最大并发连接数有一定的限制，HTTP/1.0和HTTP/1.1也不相同。比如HTTP/1.1协议下，IE6的并发连接数限制是2个；而在HTTP/1.0下，IE6的并发连接数可以达到4个。在其它浏览器也有类似的限制，一般是4~8个。这个时候，如果浏览器同时对某一域名发起多个请求，超过了限制就会出现等待，也就是阻挡。</p>
<p>那么为了解决阻挡这一问题，我们可以对某些URL的域名分散处理，比如我们的图片域名，一般用类似img.guoweiwei.com的域名，当一个页面包含20多张图片的时候，那至少有10几个请求会被阻挡，而如果我们分散到img0.guoweiwei.com/img1.guoweiwei.com/img2.guoweiwei.com/…等不同域名的时候，至少这20个图片请求会并发进行,网站打开速度会明显提升很多。类似的，可以对一些css/js的域名同样处理</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/浏览器/">浏览器</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/12/29/九种浏览器端缓存方法/" title="九种浏览器端缓存" itemprop="url">九种浏览器端缓存</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="ws" target="_blank" itemprop="author">ws</a>
		
  <p class="article-time">
    <time datetime="2015-12-28T16:00:00.000Z" itemprop="datePublished"> 发表于 2015-12-29</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><strong>(转)</strong><br><strong>摘要</strong> 浏览器缓存（Browser Caching）是浏览器端保存数据用于快速读取或避免重复资源请求的优化机智，有效的缓存使用可以避免重复的网络请求和浏览器快速地读取本地数据，整体上加速网页展示给用户。浏览器端缓存的机制种类较多，总体归纳为九种，这里详细分析下这九种缓存机制的原理和使用场景。打开浏览器的调试模式-&gt;resources左侧就有浏览器的8种缓存机制。</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">一、http缓存</span><br><span class="line">二、websql</span><br><span class="line">三、indexDB</span><br><span class="line">四、cookie</span><br><span class="line">五、localstorage</span><br><span class="line">六、sessionstorage</span><br><span class="line">七、<span class="type">application</span> cache</span><br><span class="line">八、cacheStorage</span><br><span class="line">九、flash缓存</span><br></pre></td></tr></table></figure>
<p> 浏览器缓存（Browser Caching）是浏览器端保存数据用于快速读取或避免重复资源请求的优化机制，有效的缓存使用可以避免重复的网络请求和浏览器快速地读取本地数据，整体上加速网页展示给用户。浏览器端缓存的机制种类较多，总体归纳为九种，这里详细分析下这九种缓存机制的原理和使用场景。打开浏览器的调试模式-&gt;resources左侧就有浏览器的8种缓存机制。<br><a name="emphasis"><br><strong>一、http缓存</strong></a></p>
<p>  http缓存是基于HTTP协议的浏览器文件级缓存机制。即针对文件的重复请求情况下，浏览器可以根据协议头判断从服务器端请求文件还是从本地读取文件，chrome控制台下的Frames即展示的是浏览器的http文件级缓存。以下是浏览器缓存的整个机制流程。主要是针对重复的http请求，在有缓存的情况下判断过程主要分3步：</p>
<ul>
<li>判断expires，如果未过期，直接读取http缓存文件，不发http请求，否则进入下一步</li>
<li>判断etag，判断文件是否修改，如果修改，则带上if-none-match发送请求，返回200或304，否则进入下一步</li>
<li>判断last-modified，判断文件是否超过最大缓存时间，则带上if-modified-since发送请求，返回200或304，否则直接不带发送请求</li>
</ul>
<p>如果通过etag和last-modified判断，即使返回304有至少有一次http请求，只不过返回的是304的返回内容，而不是文件内容。所以合理设计实现expires参数可以减少较多的浏览器请求。</p>
<p><a name="lists"></a></p>
<p><strong>二、websql</strong></p>
<p>   websql这种方式只有较新的chrome浏览器支持，并以一个独立规范形式出现，主要有以下特点</p>
<ul>
<li>Web Sql 数据库API 实际上不是HTML5规范的组成部分；</li>
<li>在HTML5之前就已经存在了，是单独的规范；</li>
<li>它是将数据以数据库的形式存储在客户端，根据需求去读取；</li>
<li>跟Storage的区别是： Storage和Cookie都是以键值对的形式存在的；</li>
<li>Web Sql 更方便于检索，允许sql语句查询；</li>
<li>让浏览器实现小型数据库存储功能；</li>
<li><p>这个数据库是集成在浏览器里面的，目前主流浏览器基本都已支持；<br>  websql API主要包含三个核心方法：</p>
</li>
<li><p>openDatabase : 这个方法使用现有数据库或创建新数据库创建数据库对象。</p>
</li>
<li>transaction : 这个方法允许我们根据情况控制事务提交或回滚。</li>
<li>executeSql : 这个方法用于执行真实的SQL查询。</li>
</ul>
<p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; openDatabase方法可以打开已经存在的数据库，不存在则创建</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> db = openDatabase(<span class="string">'mydatabase'</span>, <span class="string">'2.0'</span>, my db<span class="string">', 2 * 1024);</span></span><br></pre></td></tr></table></figure>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;openDatabasek中五个参数分别为：数据库名、版本号、描述、数据库大小、创建回调。创建回调没有也可以创建数据库。<br><strong>database.transaction() 函数用来查询，executeSql()用于执行sql语句</strong><br>    例如在mydatabase数据库中创建表t1：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var db = openDatabase('mydatabase', '2.0', my db', 2 * 1024);</span><br><span class="line"></span><br><span class="line">   db.transaction(function (tx) &#123; </span><br><span class="line">      tx.executeSql('CREATE TABLE IF NOT EXISTS t1 (id unique, log)');  </span><br><span class="line">      tx.executeSql('INSERT INTO t1 (id, log) VALUES (1, "foobar")');  </span><br><span class="line">      tx.executeSql('INSERT INTO t1 (id, log) VALUES (2, "logmsg")');  </span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure>
<p>插入操作<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var db = openDatabase('mydatabase', '2.0', my db', 2 * 1024);</span><br><span class="line"></span><br><span class="line">   db.transaction(function (tx) &#123; </span><br><span class="line">      tx.executeSql('CREATE TABLE IF NOT EXISTS t1 (id unique, log)');  </span><br><span class="line">      tx.executeSql('INSERT INTO t1 (id, log) VALUES (1, "foobar")');  </span><br><span class="line">      tx.executeSql('INSERT INTO t1 (id, log) VALUES (2, "logmsg")');  </span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure></p>
<p>在插入新记录时，我们还可以传递动态值，如：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> db = openDatabase(<span class="string">' mydatabase '</span>, <span class="string">'2.0'</span>, <span class="string">'my db'</span>, <span class="number">2</span> * <span class="number">1024</span>);  </span><br><span class="line">   db.transaction(<span class="function"><span class="keyword">function</span> (<span class="params">tx</span>) </span>&#123;    </span><br><span class="line">     tx.executeSql(<span class="string">'CREATE TABLE IF NOT EXISTS t1 (id unique, log)'</span>);  </span><br><span class="line">     tx.executeSql(<span class="string">'INSERT INTO t1 (id,log) VALUES (?, ?'</span>), [e_id, e_log];  <span class="comment">//e_id和e_log是外部变量</span></span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure></p>
<p>读操作，如果要读取已经存在的记录，我们使用一个回调捕获结果：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var db = openDatabase(mydatabase, '2.0', 'my db', 2*1024);     </span><br><span class="line">     db.transaction(function (tx) &#123; </span><br><span class="line">     tx.executeSql('CREATE TABLE IF NOT EXISTS t1 (id unique, log)');  </span><br><span class="line">     tx.executeSql('INSERT INTO t1 (id, log) VALUES (1, "foobar")');  </span><br><span class="line">     tx.executeSql('INSERT INTO t1 (id, log) VALUES (2, "logmsg")');  </span><br><span class="line">  &#125;);  </span><br><span class="line">  db.transaction(function (tx) &#123; </span><br><span class="line">     tx.executeSql('SELECT * FROM t1, [], function (tx, results) &#123; </span><br><span class="line">     var len = results.rows.length, i;  </span><br><span class="line">     msg = "&lt;p&gt;Found rows: " + len + "&lt;/p&gt;";  </span><br><span class="line">     document.querySelector('#status').innerHTML +=  msg;  </span><br><span class="line">     for (i = 0; i &lt; len; i++)&#123; </span><br><span class="line">        alert(results.rows.item(i).log );  </span><br><span class="line">     &#125; </span><br><span class="line">   &#125;, null);  </span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure></p>
<p><strong>三、indexDB</strong><br>&nbsp;&nbsp;<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>IndexedDB 是一个为了能够在客户端存储可观数量的结构化数据，并且在这些数据上使用索引进行高性能检索的 API。虽然 DOM 存储 对于存储少量数据是非常有用的，但是它对大量结构化数据的存储就显得力不从心了。IndexedDB 则提供了这样的一个解决方案。   IndexedDB 分别为同步和异步访问提供了单独的 API 。同步 API 本来是要用于仅供 Web Workers 内部使用，但是还没有被任何浏览器所实现。异步 API 在 Web Workers 内部和外部都可以使用，另外浏览器可能对indexDB有50M大小的限制，一般用户保存大量用户数据并要求数据之间有搜索需要的场景。</p>
<ul>
<li>异步API<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;异步 API 方法调用完后会立即返回，而不会阻塞调用线程。要异步访问数据库，要调用 window 对象 indexedDB 属性的 open() 方法。该方法返回一个 IDBRequest 对象 (IDBOpenDBRequest)；异步操作通过在 IDBRequest 对象上触发事件来和调用程序进行通信。</li>
</ul>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby"> <span class="constant">IDBFactory</span> 提供了对数据库的访问。这是由全局对象 indexedDB 实现的接口，因而也是该 <span class="constant">API</span> 的入口。</span><br><span class="line"></span>-<span class="ruby"> <span class="constant">IDBCursor</span> 遍历对象存储空间和索引。</span><br><span class="line"></span>-<span class="ruby"> <span class="constant">IDBCursorWithValue</span> 遍历对象存储空间和索引并返回游标的当前值。</span><br><span class="line"></span>-<span class="ruby"> <span class="constant">IDBDatabase</span> 表示到数据库的连接。只能通过这个连接来拿到一个数据库事务。</span><br><span class="line"></span>-<span class="ruby"> <span class="constant">IDBEnvironment</span> 提供了到客户端数据库的访问。它由 window 对象实现。</span><br><span class="line"></span>-<span class="ruby"> <span class="constant">IDBIndex</span> 提供了到索引元数据的访问。</span><br><span class="line"></span>-<span class="ruby"> <span class="constant">IDBKeyRange</span> 定义键的范围。</span><br><span class="line"></span>-<span class="ruby"> <span class="constant">IDBObjectStore</span> 表示一个对象存储空间。</span><br><span class="line"></span>-<span class="ruby"> <span class="constant">IDBOpenDBRequest</span> 表示一个打开数据库的请求。</span><br><span class="line"></span>-<span class="ruby"><span class="constant">IDBRequest</span> 提供了到数据库异步请求结果和数据库的访问。这也是在你调用一个异步方法时所得到的。</span><br><span class="line"></span>-<span class="ruby"> <span class="constant">IDBTransaction</span> 表示一个事务。你在数据库上创建一个事务，指定它的范围（例如你希望访问哪一个对象存储空间），并确定你希望的访问类型（只读或写入）。</span><br><span class="line"></span>-<span class="ruby"> <span class="constant">IDBVersionChangeEvent</span> 表明数据库的版本号已经改变。</span></span><br></pre></td></tr></table></figure>
<ul>
<li>同步API<br>  &nbsp;&nbsp;&nbsp;&nbsp;&amp;nbsp规范里面还定义了 API 的同步版本。同步 API 还没有在任何浏览器中得以实现。它原本是要和 webWork 一起使用的。</li>
</ul>
<p><a href="http://mxr.mozilla.org/mozilla-central/source/modules/libpref/src/init/all.js http://caniuse.com/#feat=indexeddb" target="_blank" rel="external">http://mxr.mozilla.org/mozilla-central/source/modules/libpref/src/init/all.js http://caniuse.com/#feat=indexeddb</a></p>
<p><strong>四、cookie</strong></p>
<p>  Cookie（或者Cookies），指一般网站为了辨别用户身份、进行session跟踪而储存在用户本地终端上的数据（通常经过加密）。cookie一般通过http请求中在头部一起发送到服务器端。一条cookie记录主要由键、值、域、过期时间、大小组成，一般用户保存用户的认证信息。cookie最大长度和域名个数由不同浏览器决定，具体如下：</p>
<table>
<thead>
<tr>
<th>浏览器</th>
<th style="text-align:right">支持域名个数</th>
<th style="text-align:right">最大长度</th>
</tr>
</thead>
<tbody>
<tr>
<td>IE7以上</td>
<td style="text-align:right">50个</td>
<td style="text-align:right">4095B</td>
</tr>
<tr>
<td>Firefox</td>
<td style="text-align:right">50个</td>
<td style="text-align:right">4097B</td>
</tr>
<tr>
<td>Opera</td>
<td style="text-align:right">30个</td>
<td style="text-align:right">4096B</td>
</tr>
<tr>
<td>Safari/WebKit</td>
<td style="text-align:right">无限制</td>
<td style="text-align:right">4097B</td>
</tr>
</tbody>
</table>
<p>不同域名之间的cookie信息是独立的，如果需要设置共享可以在服务器端设置cookie的path和domain来实现共享。浏览器端也可以通过document.cookie来获取cookie，并通过js浏览器端也可以方便地读取/设置cookie的值。</p>
<p><strong>五、localstorage</strong></p>
<p>localStorage是html5的一种新的本地缓存方案，目前用的比较多，一般用来存储ajax返回的数据，加快下次页面打开时的渲染速度。</p>
<table>
<thead>
<tr>
<th>浏览器</th>
<th style="text-align:right">最大长度</th>
</tr>
</thead>
<tbody>
<tr>
<td>IE9以上</td>
<td style="text-align:right">5M</td>
</tr>
<tr>
<td>Firefox 8以上</td>
<td style="text-align:right">5.24M</td>
</tr>
<tr>
<td>Opera</td>
<td style="text-align:right">2M</td>
</tr>
<tr>
<td>Safari/WebKit</td>
<td style="text-align:right">2.6M</td>
</tr>
</tbody>
</table>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//localStorage核心API:</span></span><br><span class="line">localStorage.setItem(key, value)    <span class="comment">//设置记录</span></span><br><span class="line">localStorage.getItem(key)            <span class="comment">//获取记录</span></span><br><span class="line">localStorage.removeItem(key)        <span class="comment">//删除该域名下单条记录</span></span><br><span class="line">localStorage.clear()                <span class="comment">//删除该域名下所有记录</span></span><br></pre></td></tr></table></figure>
<p>值得注意的是，localstorage大小有限制，不适合存放过多的数据，如果数据存放超过最大限制会报错，并移除最先保存的数据。</p>
<p><a href="https://github.com/machao/localStorage" target="_blank" rel="external">https://github.com/machao/localStorage</a></p>
<p><strong>六、sessionstorage</strong><br>sessionStorage和localstorage类似，但是浏览器关闭则会全部删除，api和localstorage相同，实际项目中使用较少。</p>
<p><strong>七、application cache</strong><br> application cahce是将大部分图片资源、js、css等静态资源放在manifest文件配置中。当页面打开时通过manifest文件来读取本地文件或是请求服务器文件。   离线访问对基于网络的应用而言越来越重要。虽然所有浏览器都有缓存机制，但它们并不可靠，也不一定总能起到预期的作用。HTML5 使用ApplicationCache 接口可以解决由离线带来的部分难题。前提是你需要访问的web页面至少被在线访问过一次。   使用缓存接口可为您的应用带来以下三个优势：</p>
<ul>
<li>离线浏览 – 用户可在离线时浏览您的完整网站</li>
<li>速度 – 缓存资源为本地资源，因此加载速度较快。</li>
<li>服务器负载更少 – 浏览器只会从发生了更改的服务器下载资源。<br>一个简单的离线页面主要包含以下几个部分：<br><strong>index.html</strong></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">html</span> <span class="attribute">manifest</span>=<span class="value">"clock.manifest"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">title</span>&gt;</span>AppCache Test<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span> <span class="attribute">href</span>=<span class="value">"clock.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"clock.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">p</span>&gt;</span><span class="tag">&lt;<span class="title">output</span> <span class="attribute">id</span>=<span class="value">"clock"</span>&gt;</span><span class="tag">&lt;/<span class="title">output</span>&gt;</span><span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"log"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>clock.manifest</strong><br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CACHE MANIFEST</span><br><span class="line">#VERSION 1.0</span><br><span class="line">CACHE:</span><br><span class="line">clock.css</span><br><span class="line">clock.js</span><br></pre></td></tr></table></figure></p>
<p>clock.js和clock.css为独立的另外文件。   另外需要注意的是更新缓存。在程序中，你可以通过window.applicationCache 对象来访问浏览器的app cache。你可以查看 status 属性来获取cache的当前状态：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> appCache = <span class="built_in">window</span>.applicationCache;</span><br><span class="line"><span class="keyword">switch</span> (appCache.status) &#123;</span><br><span class="line">  <span class="keyword">case</span> appCache.UNCACHED: <span class="comment">// UNCACHED == 0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'UNCACHED'</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> appCache.IDLE: <span class="comment">// IDLE == 1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'IDLE'</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> appCache.CHECKING: <span class="comment">// CHECKING == 2</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'CHECKING'</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> appCache.DOWNLOADING: <span class="comment">// DOWNLOADING == 3</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'DOWNLOADING'</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> appCache.UPDATEREADY:  <span class="comment">// UPDATEREADY == 4</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'UPDATEREADY'</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> appCache.OBSOLETE: <span class="comment">// OBSOLETE == 5</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'OBSOLETE'</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'UKNOWN CACHE STATUS'</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>为了通过编程更新cache，首先调用 applicationCache.update()。这将会试图更新用户的 cache（要求manifest文件已经改变）。最后，当 applicationCache.status 处于 UPDATEREADY 状态时， 调用applicationCache.swapCache()，旧的cache就会被置换成新的。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> appCache = <span class="built_in">window</span>.applicationCache;</span><br><span class="line">appCache.update(); <span class="comment">// Attempt to update the user’s cache.</span></span><br><span class="line">…</span><br><span class="line"><span class="keyword">if</span> (appCache.status == <span class="built_in">window</span>.applicationCache.UPDATEREADY) &#123;</span><br><span class="line">  appCache.swapCache();  <span class="comment">// The fetch was successful, swap in the new cache.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这里是通过更新menifest文件来控制其它文件更新的。</p>
<p><strong>八、cacheStorage</strong></p>
<p> CacheStorage是在ServiceWorker的规范中定义的。CacheStorage 可以保存每个serverWorker申明的cache对象，cacheStorage有open、match、has、delete、keys五个核心方法，可以对cache对象的不同匹配进行不同的响应。<br><strong>cacheStorage.has() </strong>如果包含cache对象，则返回一个promise对象。 <strong>cacheStorage.open() </strong>打开一个cache对象，则返回一个promise对象。 <strong>cacheStorage.delete() </strong>删除cache对象，成功则返回一个promise对象，否则返回false。 <strong>cacheStorage.keys() </strong>含有keys中字符串的任意一个，则返回一个promise对象。 <strong>cacheStorage.delete() </strong>匹配key中含有该字符串的cache对象，返回一个promise对象。</p>
<figure class="highlight scilab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="transposed_variable">caches.</span>has(<span class="string">'v1'</span>).<span class="keyword">then</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span> &#123;</span></span><br><span class="line">  <span class="transposed_variable">caches.</span>open(<span class="string">'v1'</span>).<span class="keyword">then</span>(<span class="function"><span class="keyword">function</span><span class="params">(cache)</span> &#123;</span></span><br><span class="line">      <span class="keyword">return</span> <span class="transposed_variable">cache.</span>addAll(myAssets);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;).<span class="keyword">catch</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span> &#123;</span></span><br><span class="line">  someCacheSetupfunction();</span><br><span class="line">&#125;);;</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> response;</span><br><span class="line"><span class="keyword">var</span> cachedResponse = caches.match(event.request).<span class="keyword">catch</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> fetch(event.request);</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span><span class="params">(r)</span> </span>&#123;</span><br><span class="line">  response = r;</span><br><span class="line">  caches.open(<span class="string">'v1'</span>).then(<span class="function"><span class="keyword">function</span><span class="params">(cache)</span> </span>&#123;</span><br><span class="line">    cache.put(event.request, response);</span><br><span class="line">  &#125;);  </span><br><span class="line">  <span class="keyword">return</span> response.<span class="keyword">clone</span>();</span><br><span class="line">&#125;).<span class="keyword">catch</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> caches.match(<span class="string">'/sw-test/gallery/myLittleVader.jpg'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">then.addEventListener(<span class="string">'activate'</span>, <span class="function"><span class="keyword">function</span><span class="params">(event)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> cacheWhitelist = [<span class="string">'v2'</span>];</span><br><span class="line"></span><br><span class="line">  event.waitUntil(</span><br><span class="line">    caches.keys().then(<span class="function"><span class="keyword">function</span><span class="params">(keyList)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> Promise.all(keyList.map(<span class="function"><span class="keyword">function</span><span class="params">(key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (cacheWhitelist.indexOf(key) === -<span class="number">1</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> caches.<span class="keyword">delete</span>(keyList[i]);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage" target="_blank" rel="external">https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage</a></p>
<p><strong>九、flash缓存</strong><br>这种方式基本不用，这一方法主要基于flash有读写浏览器端本地目录的功能，同时也可以向js提供调用的api，则页面可以通过js调用flash去读写特定的磁盘目录，达到本地数据缓存的目的。<br><strong>注释PS</strong></p>
<ul>
<li>Web Storage / Web SQL Database / Indexed Database 的数据都存储在浏览器对应的用户配置文件目录(user profile directory)下，以 Windows 7 为例，Chrome 的数据存储在”C:\Users\your-account-name\AppData\Local\Google\Chrome\User Data\Default\”下，而 Firefox 的数据存储在”C:\Users\your-account-name\AppData\Local\Mozilla\Firefox\Profiles\”目录下。</li>
<li><p>cookie文件存储于documents and settings\userName\cookie\文件夹下。通常的命名格式为：userName@domain.txt。</p>
</li>
<li><p>较多的缓存机制目前主流浏览器并不兼容，不过可以使用polyfill的方法来处理</p>
</li>
</ul>
<p>  浏览器涉及的缓存方式主要包含这些，具体结合自己的业务场景进行选择使用</p>
<p><a href="https://ouvens.github.io/frontend-javascript/2015/12/28/nine-browser-cache-methods.html" target="_blank" rel="external">https://ouvens.github.io/frontend-javascript/2015/12/28/nine-browser-cache-methods.html</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/浏览器/">浏览器</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/09/21/常用的-JavaScript-检测浏览器为-IE-是哪个版本的代码，包括是否是最人极端厌恶的-ie6-识别与检测。/" title="常用的 JavaScript 检测浏览器为 IE 是哪个版本的代码，包括是否是最人极端厌恶的 ie6 识别与检测" itemprop="url">常用的 JavaScript 检测浏览器为 IE 是哪个版本的代码，包括是否是最人极端厌恶的 ie6 识别与检测</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="ws" target="_blank" itemprop="author">ws</a>
		
  <p class="article-time">
    <time datetime="2015-09-21T06:05:55.000Z" itemprop="datePublished"> 发表于 2015-09-21</time>
    
  </p>
</header>
    <div class="article-content">
        
        <figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable"><span class="keyword">var</span> isIE</span>=!!window.ActiveXObject;</span><br><span class="line"><span class="variable"><span class="keyword">var</span> isIE6</span>=isIE&amp;&amp;!window.XMLHttpRequest;</span><br><span class="line"><span class="variable"><span class="keyword">var</span> isIE8</span>=isIE&amp;&amp;!!document.documentMode;</span><br><span class="line"><span class="variable"><span class="keyword">var</span> isIE7</span>=isIE&amp;&amp;!isIE6&amp;&amp;!isIE8;</span><br><span class="line"><span class="keyword">if</span> (isIE)&#123;</span><br><span class="line">    <span class="keyword">if</span> (isIE6)&#123;</span><br><span class="line">		alert(<span class="string">"ie6"</span>);</span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span> (isIE8)&#123;</span><br><span class="line">		alert(<span class="string">"ie8"</span>);</span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span> (isIE7)&#123;</span><br><span class="line">		alert(<span class="string">"ie7"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后是一个稍微短的 js 判断是否 ie 的方法：<br>这个貌似是利用 IE 中 JScript所特有的条件编译或曰条件注释来区分 IE 和非 IE 这里的IE/非IE均是针对内核而言，以IE为内核的浏览器将视为IE</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable"><span class="keyword">var</span> ie</span> = <span class="number">0</span><span class="comment">/*@cc_on+1@*/</span>;</span><br></pre></td></tr></table></figure>
<p>一个最短的 js 判断 ie 或非 ie 的代码，大小仅仅 7bytes：</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ie = !+<span class="string">'\v1'</span>;</span><br></pre></td></tr></table></figure>
<p>2010年1月，一位俄国人利用了IE与标准浏览器在处理数组的toString方法的差异，仅6bytes就完美完成了是否IE浏览器的检测：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable"><span class="keyword">var</span> ie</span> = !-[<span class="number">1</span>,];</span><br></pre></td></tr></table></figure>
<p>利用这些发现，我们可以使代码写的更短。如今检测是否为 IE6 其实可以写成：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ie6=!-[<span class="number">1</span>,]&amp;&amp;!<span class="built_in">window</span>.XMLHttpRequest;</span><br></pre></td></tr></table></figure>
<p>之前那大段累赘的分析navigator，然后正则比较的方式，后面的 js 方法是不是效率更</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/javascript/">javascript</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/09/21/使用浏览器缓存/" title="使用浏览器缓存" itemprop="url">使用浏览器缓存</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="ws" target="_blank" itemprop="author">ws</a>
		
  <p class="article-time">
    <time datetime="2015-09-21T05:55:20.000Z" itemprop="datePublished"> 发表于 2015-09-21</time>
    
  </p>
</header>
    <div class="article-content">
        
        <hr>
<p>当PageSpeed Insights检测到您的服务器响应不包含明确的缓存标头或某些资源被指定只缓存一小段时间时，就会触发此规则。</p>
<h3 id="概览">概览</h3><p>如果用户会多次访问您的网站，那么静态资源的浏览器缓存可以节省用户的时间。缓存标头应当应用到所有可缓存的静态资源中，而不仅仅是应用到一小部分静态资源（例如，图片）中。可缓存的资源包括JS和CSS文件、图像文件及其他二进制对象文件（媒体文件和PDF文件等）。通常情况下，HTML不是静态资源，默认情况下不应被视为可缓存资源。您应考虑哪些缓存政策适用于您网站的HTML。—</p>
<h3 id="建议">建议</h3><p>为您的服务器启用浏览器缓存。静态资源应该至少有一周的缓存有效期。广告或小部件这类的第三方资源也应该至少有一天的缓存有效期。对于所有可缓存资源，我们建议您进行以下设置：</p>
<p>将Expires设为将来日期，至少为一周，最多为一年（我们倾向于设置Expires，而不设置Cache-Control: max-age，因为前者受支持的范围更为广泛）。请勿将其设为超过一年的将来日期，因为这样就违反了RFC准则。<br>如果您知道资源将具体在何时发生变化，则可以设置较短的过期日期。然而，如果您认为资源“可能将要发生变化”，但又不知道具体时间，则应设置较长的过期日期，并使用网址指纹（如下所述）。<br>Expires和Cache-Control: max-age标头</p>
<p>这些标头用于指定相应时间段，浏览器可在指定的这段时间内使用已缓存的资源，而无需查看网络服务器是否提供了新版资源。这些缓存标头功能强大，没有任何应用条件限制。在设置这些标头并下载资源后，浏览器不会为资源发出任何GET请求，除非过期日期到期或达到时间最大值，亦或是用户清除了缓存。</p>
<h3 id="Last-Modifed和ETag标头">Last-Modifed和ETag标头</h3><p>这些标头可用于指定浏览器应如何确定用于缓存的文件是否相同。在Last-Modified标头中指定的是日期，而在ETag标头中指定的则可以是唯一标识资源的任意值（通常为文件版本或内容哈希值）。Last-Modified是功能“较弱”的缓存标头，因为浏览器会使用试探法来确定是否需要从缓存中抓取内容。</p>
<p>借助这些标头，浏览器可以通过在用户明确重新加载页面时发出条件式GET请求，有效地更新其已缓存资源。除非您在服务器端更改资源，否则条件式GET请求不会返回完整的响应，因此相较于完整GET请求，此类请求的延迟较小。</p>
<h3 id="我应使用哪个缓存标头？">我应使用哪个缓存标头？</h3><p>对于所有可缓存资源，指定一个Expires或Cache-Control max-age以及一个Last-Modified或ETag至关重要。您没必要同时指定Expires和Cache-Control: max-age；或同时指定Last-Modified和ETag。<br>使用网址指纹</p>
<p>对于偶尔发生变化的资源，我们可以让浏览器缓存相应的资源，直到该资源在服务器上出现变化，而服务器则在此时通知浏览器有新版本可用。我们可以通过为每个版本的资源指定一个唯一网址来实现这一目的。例如，假定我们有一个名为“my_stylesheet.css”的资源。我们可以将文件重命名为“my_stylesheet_fingerprint.css”。当资源发生变化时，其指纹就会发生变化，对应的网址也会随之更改。网址一经更改，系统就会强制浏览器重新抓取资源。通过指纹，我们甚至可以为变化更为频繁的资源设置将来的过期日期。</p>
<p>指纹识别的常用方法是使用对文件内容的哈希值进行编码的128位十六进制数。</p>
<p>另一个策略是直接为新版应用创建新版目录，然后为版本目录中的各个版本放置所有资源。这样做的缺点是，如果各个版本中的资源未发生变化，则其网址将仍会更改以强制重新下载。使用内容哈希值不会遇到该问题，但这种方法稍微复杂一些。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/web/">web</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  

  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/javascript/" title="javascript">javascript<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/html5/" title="html5">html5<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/浏览器/" title="浏览器">浏览器<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/js/" title="js">js<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/css/" title="css">css<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/web/" title="web">web<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/css3/" title="css3">css3<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Larry Page in Google. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="ws">ws</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
